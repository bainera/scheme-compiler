
APPEND_BODY:
PUSH(FP);
MOV(FP,SP);
PUSH(R1);
PUSH(R2);

MOV(R0,FPARG(3));
MOV(R1,FPARG(2));
CMP(IND(R1),2);
JUMP_EQ(APPEND_END);

PUSH(R0);
MOV(R2,INDD(R1,2));
PUSH(R2);
PUSH(IMM(2)); //NUM OF ARGS
PUSH(IMM(404)); // FAKE ENV
CALL(APPEND_BODY);
DROP(4);

PUSH(R0);
MOV(R1,INDD(R1,1));
PUSH(R1);
CALL(CONS_BODY);
DROP(2);

APPEND_END:
POP(R2);
POP(R1);
POP(FP);
RETURN;